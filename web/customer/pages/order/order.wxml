<!-- 订单列表 -->
<view class="container">
  <view class="tabs">
    <view class="tab {{currentTab === '' ? 'active' : ''}}" bindtap="onTabChange" data-tab="">全部</view>
    <view class="tab {{currentTab === 'pending_accept' ? 'active' : ''}}" bindtap="onTabChange" data-tab="pending_accept">待接单</view>
    <view class="tab {{currentTab === 'processing' ? 'active' : ''}}" bindtap="onTabChange" data-tab="processing">制作中</view>
    <view class="tab {{currentTab === 'completed' ? 'active' : ''}}" bindtap="onTabChange" data-tab="completed">已完成</view>
  </view>

  <view class="order-list">
    <view class="order-card card" wx:for="{{orders}}" wx:key="_id" bindtap="onOrderTap" data-id="{{item._id}}">
      <view class="order-header">
        <text class="order-no">订单号: {{item.orderNo}}</text>
        <text class="order-status" style="color: {{item.statusColor}}">{{item.statusText}}</text>
      </view>
      <view class="order-items">
        <order-item wx:for="{{item.items}}" wx:for-item="product" wx:key="productId" itemData="{{product}}"></order-item>
      </view>
      <view class="order-footer">
        <text class="order-time">{{item.createdTime}}</text>
        <text class="order-total">¥{{item.totalAmount}}</text>
      </view>
    </view>
  </view>

  <view class="empty-state" wx:if="{{orders.length === 0 && !loading}}">
    <text>暂无订单</text>
  </view>
</view>
